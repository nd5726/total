{"version":3,"file":"js/536.1a1df4a2.js","mappings":"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","sources":["webpack://total/./src/views/CartStep1View.vue","webpack://total/./src/views/CartStep1View.vue?3ee9"],"sourcesContent":["<template class=\"cart\">\r\n    <div class=\"w-full lg:pl-[240px] pt-[150px] lg:pt-8 pb-16\">\r\n        <section class=\"mainbody-limit px-8 md:px-8 pt-12 \">\r\n        <h1 class=\"cart-title text-2xl sm:text-3xl text-brown-dark font-bold tracking-wider mb-10\">STEP01- 確認購物內容</h1>\r\n        <div class=\"text-right\">\r\n          <button type=\"button\" v-if=\"cartList.carts && cartList.carts.length> 0 \" @click=\"removeAllCartItem\" class=\" text-brown-light transition-all  border border-brown-light hover:text-white hover:bg-brown-light  px-4 py-2\"><span class=\"mr-4\">×</span>清除購物車</button>\r\n        </div>\r\n        <table class=\"w-full mt-8 sm:mt-4\">\r\n            <thead>\r\n                <tr class=\"border-b text-brown-dark border-[#E8DFD8] hidden sm:table-row\">\r\n                    <th class=\"w-1/12 text-center py-3\"></th>\r\n                    <th class=\"w-11/12 py-3\">\r\n                        <div class=\"flex items-center text-base\">\r\n                            <div class=\"flex items-center\">\r\n                                <div class=\"w-[100px] ml-2 mr-8\"></div>\r\n                            </div>\r\n                            <div  class=\"flex items-center  flex-grow\">\r\n                                <p class=\"w-6/12 text-left\">品名</p>\r\n                                <div class=\"w-6/12 text-center\">\r\n                                    <div class=\"flex\">\r\n                                        <p class=\"w-16\">數量</p>\r\n                                        <p class=\"flex-grow\">單價</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <p class=\"w-2/12 text-right pr-2\">小計</p>\r\n                        </div>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody class=\" border-separate border-t border-[#E8DFD8] sm:border-none\" v-if=\"cartList.carts\">\r\n                <tr class=\"w-full border-b  text-brown-dark border-[#E8DFD8]\" v-for=\"item in cartList.carts\" :key=\"item.id\">\r\n                    <td class=\"w-1/12 text-center py-3\">\r\n                        <button @click=\"removeCartItem(item.id)\" type=\"button\" class=\" transition-all w-8 h-8   text-brown-dark hover:bg-brown-light   hover:text-white disabled:opacity-50\">×</button>\r\n                    </td>\r\n                    <td class=\"w-11/12 py-3\">\r\n                        <div class=\"flex items-center text-base\">\r\n                            <div class=\"flex items-center  flex-shrink-0\">\r\n                                <div class=\"w-[100px] h-[100px] ml-2 mr-4 sm:mr-8  bg-cover\" :style=\"{ backgroundImage:`url( ${item.product.imageUrl} )` }\"></div>\r\n                            </div>\r\n                            <div  class=\"flex items-strat sm:items-center flex-grow flex-col sm:flex-row\">\r\n                                <div class=\"w-full sm:w-5/12 text-left \"><p>{{ item.product.title }}</p></div>\r\n                                <div class=\"w-full sm:w-7/12  text-left sm:text-center text-base\">\r\n                                    <div class=\"flex items-start sm:items-center py-2 sm:py-0 flex-col sm:flex-row\">\r\n                                        <div>\r\n                                          <input type=\"number\" @change=\"updateCart(item)\" class=\"w-16 px-2 mr-2 py-1 sm:p-2 border rounded-none\" mim=\"1\" v-model.number=\"item.qty\"> {{ item.product.unit }}\r\n                                        </div>\r\n                                        <div class=\"flex-grow mx-0 mt-2 sm:mt-0 sm:mx-2\">${{ item.product.price }} / {{ item.product.unit }}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"w-2/12 text-left sm:text-right pr-2\">${{ item.product.price*item.qty }}</div>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <tr class=\"text-brown-dark\">\r\n                    <td class=\"w-11/12  text-right py-6\" colspan=\"2\"><span class=\"mr-6\">總計</span> $ {{ cartList.total }} 元</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        <div class=\"flex items-start sm:items-center justify-end mt-2 sm:mt-8 flex-col-reverse sm:flex-row\">\r\n            <router-link to=\"/product\" class=\"flex items-center text-brown-dark font-bold py-2 mr-8 transition-all relative left-0 hover:-left-2 mt-4 \">\r\n                <img class=\"mr-4 w-10 sm:w-auto\" src=\"../assets/arrow.png\" alt=\"繼續加購\">繼續加購\r\n            </router-link>\r\n            <router-link to=\"/cart2\" v-if=\"cartList.carts && cartList.carts.length> 0 \" class=\"transition-all text-base w-full sm:w-auto sm:text-lg py-3 text-center sm:py-2 px-12 sm:px-16 border border-brown-light text-brown-light cursor-pointer hover:text-white hover:bg-brown-light\" >確認結帳</router-link>\r\n        </div>\r\n        </section>\r\n    </div>\r\n    <VLoading :active=\"isLoading\"></VLoading>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n\r\n<script>\r\nimport emitter from '@/methods/emitter.js'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      cartList: [],\r\n      isLoading: true\r\n    }\r\n  },\r\n  methods: {\r\n    getcarts () {\r\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\r\n        .then((res) => {\r\n          this.cartList = res.data.data\r\n          this.isLoading = false\r\n          emitter.emit('get-carts')\r\n        })\r\n    },\r\n    removeCartItem (id) {\r\n      this.isLoading = true\r\n      this.$http.delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`)\r\n        .then((res) => {\r\n          alert(res.data.message)\r\n          this.getcarts()\r\n        })\r\n    },\r\n    removeAllCartItem () {\r\n      this.isLoading = true\r\n      this.$http.delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`)\r\n        .then((res) => {\r\n          alert(res.data.message)\r\n          this.getcarts()\r\n        })\r\n    },\r\n    updateCart (item) {\r\n      if (item.qty > 0) {\r\n        this.isLoading = true\r\n        const data = {\r\n          product_id: item.product_id,\r\n          qty: item.qty\r\n        }\r\n        this.$http.put(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${item.id}`, { data })\r\n          .then((res) => {\r\n            alert(res.data.message)\r\n            this.getcarts()\r\n          })\r\n      } else {\r\n        alert('數量不得小於1')\r\n        item.qty = 1 // 當數量小於1的時候，預設跳回1\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getcarts()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./CartStep1View.vue?vue&type=template&id=5089d3c6&class=cart\"\nimport script from \"./CartStep1View.vue?vue&type=script&lang=js\"\nexport * from \"./CartStep1View.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\AppServ\\\\works\\\\total\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_5","colspan","src","_imports_0","alt","_hoisted_3","$data","carts","length","_createElementBlock","type","onClick","$options","_hoisted_9","_Fragment","_renderList","item","key","id","_hoisted_12","style","backgroundImage","product","imageUrl","_toDisplayString","title","onChange","mim","qty","$event","unit","price","_hoisted_25","total","_createVNode","_component_router_link","to","_hoisted_27","_createBlock","_component_VLoading","active","data","cartList","isLoading","methods","getcarts","this","$http","get","then","res","emitter","removeCartItem","delete","alert","message","removeAllCartItem","updateCart","product_id","put","mounted","__exports__","render"],"sourceRoot":""}