"use strict";(self["webpackChunktotal"]=self["webpackChunktotal"]||[]).push([[536],{3536:function(t,e,s){s.r(e),s.d(e,{default:function(){return Z}});var r=s(3396),l=s(7139),a=s(9242),i=s(2798);const o={class:"w-full lg:pl-[240px] pt-[150px] lg:pt-8 pb-16"},c={class:"mainbody-limit px-8 md:px-8 pt-12"},n=(0,r._)("h1",{class:"cart-title text-2xl sm:text-3xl text-brown-dark font-bold tracking-wider mb-10"},"STEP01- 確認購物內容",-1),d={class:"text-right"},m=(0,r._)("span",{class:"mr-4"},"×",-1),p=(0,r.Uk)("清除購物車"),h=[m,p],x={class:"w-full mt-8 sm:mt-4"},w=(0,r._)("thead",null,[(0,r._)("tr",{class:"border-b text-brown-dark border-[#E8DFD8] hidden sm:table-row"},[(0,r._)("th",{class:"w-1/12 text-center py-3"}),(0,r._)("th",{class:"w-11/12 py-3"},[(0,r._)("div",{class:"flex items-center text-base"},[(0,r._)("div",{class:"flex items-center"},[(0,r._)("div",{class:"w-[100px] ml-2 mr-8"})]),(0,r._)("div",{class:"flex items-center flex-grow"},[(0,r._)("p",{class:"w-6/12 text-left"},"品名"),(0,r._)("div",{class:"w-6/12 text-center"},[(0,r._)("div",{class:"flex"},[(0,r._)("p",{class:"w-16"},"數量"),(0,r._)("p",{class:"flex-grow"},"單價")])])]),(0,r._)("p",{class:"w-2/12 text-right pr-2"},"小計")])])])],-1),u={key:0,class:"border-separate border-t border-[#E8DFD8] sm:border-none"},g={class:"w-1/12 text-center py-3"},b=["onClick"],v={class:"w-11/12 py-3"},A={class:"flex items-center text-base"},f={class:"flex items-center flex-shrink-0"},_={class:"flex items-strat sm:items-center flex-grow flex-col sm:flex-row"},k={class:"w-full sm:w-5/12 text-left"},y={class:"w-full sm:w-7/12 text-left sm:text-center text-base"},C={class:"flex items-start sm:items-center py-2 sm:py-0 flex-col sm:flex-row"},U=["onChange","onUpdate:modelValue"],B={class:"flex-grow mx-0 mt-2 sm:mt-0 sm:mx-2"},D={class:"w-2/12 text-left sm:text-right pr-2"},L={class:"text-brown-dark"},I={class:"w-11/12 text-right py-6",colspan:"2"},E=(0,r._)("span",{class:"mr-6"},"總計",-1),Y={class:"flex items-start sm:items-center justify-end mt-2 sm:mt-8 flex-col-reverse sm:flex-row"},V=(0,r._)("img",{class:"mr-4 w-10 sm:w-auto",src:i,alt:"繼續加購"},null,-1),q=(0,r.Uk)("繼續加購 "),z=(0,r.Uk)("確認結帳");function R(t,e,s,i,m,p){const R=(0,r.up)("router-link"),$=(0,r.up)("VLoading");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",o,[(0,r._)("section",c,[n,(0,r._)("div",d,[m.cartList.carts&&m.cartList.carts.length>0?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",onClick:e[0]||(e[0]=(...t)=>p.removeAllCartItem&&p.removeAllCartItem(...t)),class:"text-brown-light transition-all border border-brown-light hover:text-white hover:bg-brown-light px-4 py-2"},h)):(0,r.kq)("",!0)]),(0,r._)("table",x,[w,m.cartList.carts?((0,r.wg)(),(0,r.iD)("tbody",u,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.cartList.carts,(t=>((0,r.wg)(),(0,r.iD)("tr",{class:"w-full border-b text-brown-dark border-[#E8DFD8]",key:t.id},[(0,r._)("td",g,[(0,r._)("button",{onClick:e=>p.removeCartItem(t.id),type:"button",class:"transition-all w-8 h-8 text-brown-dark hover:bg-brown-light hover:text-white disabled:opacity-50"},"×",8,b)]),(0,r._)("td",v,[(0,r._)("div",A,[(0,r._)("div",f,[(0,r._)("div",{class:"w-[100px] h-[100px] ml-2 mr-4 sm:mr-8 bg-cover",style:(0,l.j5)({backgroundImage:`url( ${t.product.imageUrl} )`})},null,4)]),(0,r._)("div",_,[(0,r._)("div",k,[(0,r._)("p",null,(0,l.zw)(t.product.title),1)]),(0,r._)("div",y,[(0,r._)("div",C,[(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"number",onChange:e=>p.updateCart(t),class:"w-16 px-2 mr-2 py-1 sm:p-2 border rounded-none",mim:"1","onUpdate:modelValue":e=>t.qty=e},null,40,U),[[a.nr,t.qty,void 0,{number:!0}]]),(0,r.Uk)(" "+(0,l.zw)(t.product.unit),1)]),(0,r._)("div",B,"$"+(0,l.zw)(t.product.price)+" / "+(0,l.zw)(t.product.unit),1)])])]),(0,r._)("div",D,"$"+(0,l.zw)(t.product.price*t.qty),1)])])])))),128)),(0,r._)("tr",L,[(0,r._)("td",I,[E,(0,r.Uk)(" $ "+(0,l.zw)(m.cartList.total)+" 元",1)])])])):(0,r.kq)("",!0)]),(0,r._)("div",Y,[(0,r.Wm)(R,{to:"/product",class:"flex items-center text-brown-dark font-bold py-2 mr-8 transition-all relative left-0 hover:-left-2 mt-4"},{default:(0,r.w5)((()=>[V,q])),_:1}),m.cartList.carts&&m.cartList.carts.length>0?((0,r.wg)(),(0,r.j4)(R,{key:0,to:"/cart2",class:"transition-all text-base w-full sm:w-auto sm:text-lg py-3 text-center sm:py-2 px-12 sm:px-16 border border-brown-light text-brown-light cursor-pointer hover:text-white hover:bg-brown-light"},{default:(0,r.w5)((()=>[z])),_:1})):(0,r.kq)("",!0)])])]),(0,r.Wm)($,{active:m.isLoading},null,8,["active"])],64)}var $=s(5820),Q={data(){return{cartList:[],isLoading:!0}},methods:{getcarts(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/nd5726-hexschool/cart").then((t=>{this.cartList=t.data.data,this.isLoading=!1,$.Z.emit("get-carts")}))},removeCartItem(t){this.isLoading=!0,this.$http.delete(`https://vue3-course-api.hexschool.io/v2/api/nd5726-hexschool/cart/${t}`).then((t=>{alert(t.data.message),this.getcarts()}))},removeAllCartItem(){this.isLoading=!0,this.$http.delete("https://vue3-course-api.hexschool.io/v2/api/nd5726-hexschool/carts").then((t=>{alert(t.data.message),this.getcarts()}))},updateCart(t){if(t.qty>0){this.isLoading=!0;const e={product_id:t.product_id,qty:t.qty};this.$http.put(`https://vue3-course-api.hexschool.io/v2/api/nd5726-hexschool/cart/${t.id}`,{data:e}).then((t=>{alert(t.data.message),this.getcarts()}))}else alert("數量不得小於1"),t.qty=1}},mounted(){this.getcarts()}},j=s(89);const J=(0,j.Z)(Q,[["render",R]]);var Z=J},2798:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAALCAYAAADVymv/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADUSURBVHgB7ZXBDYIwFIb/IlcTR3AE3OBxNWjiBgUHkA3UCXQCywZiwgDdwBVcwQGkvibGYATEc/sdmh56+vK+V+BP1kvapAkd4Sjh0IeSaBKMcUCNyIRYwVGCIY/knCKWdTUG90eIuCj1DY7yc8JsgrVBzte9qnQBx+kU9kpQcYJTTjBWDk9Vk1ZhMiEKBBQneDlV2tl91caXMJsgi9oJg5RllfB88BZmExyNceYEUYeYubzY+xD2aCbIiz2HpxORJbRlbZJ/wrSotIanF5EtyMAzmCdQPUOzVN63ZgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=536.1a1df4a2.js.map