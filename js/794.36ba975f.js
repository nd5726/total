"use strict";(self["webpackChunktotal"]=self["webpackChunktotal"]||[]).push([[794],{9794:function(e,l,t){t.r(l),t.d(l,{default:function(){return Z}});var s=t(3396),r=t(7139),a=t(2798);const o={class:"w-full lg:pl-[240px] pt-[150px] lg:pt-8 pb-16"},d={class:"mainbody-limit px-8 md:px-8 pt-12"},m=(0,s._)("h1",{class:"cart-title text-2xl sm:text-3xl text-brown-dark font-bold tracking-wider mb-10"},"STEP02- 填寫購物資訊",-1),i={class:"flex flex-col"},n={class:"w-full mt-4 mb-8"},c=(0,s._)("thead",null,[(0,s._)("tr",{class:"border-b text-brown-dark border-[#E8DFD8] hidden sm:table-row"},[(0,s._)("th",{class:"w-11/12 py-3"},[(0,s._)("div",{class:"flex items-center text-base"},[(0,s._)("div",{class:"flex items-center"},[(0,s._)("div",{class:"w-[100px] ml-2 mr-8"})]),(0,s._)("div",{class:"flex items-center flex-grow"},[(0,s._)("p",{class:"w-6/12 text-left"},"品名"),(0,s._)("div",{class:"w-6/12 text-center"},[(0,s._)("div",{class:"flex"},[(0,s._)("p",{class:""},"數量"),(0,s._)("p",{class:"flex-grow"},"單價")])])]),(0,s._)("p",{class:"w-1/12 text-right"},"小計")])])])],-1),u={key:0,class:"border-separate"},f={class:"w-11/12 py-3"},b={class:"flex items-center text-base"},x={class:"flex items-center flex-shrink-0"},w={class:"flex items-strat sm:items-center flex-grow flex-col sm:flex-row"},p={class:"w-full sm:w-6/12 text-left"},h={class:"w-full sm:w-6/12 text-left sm:text-center text-base"},g={class:"flex items-start sm:items-center py-2 sm:py-0 flex-col sm:flex-row"},_={class:"flex-grow mx-0 mt-2 sm:mt-0 sm:mx-2"},A={class:"w-1/12 text-left sm:text-right"},v={class:"text-brown-dark"},k={class:"w-11/12 text-right py-6",colspan:"2"},y=(0,s._)("span",{class:"mr-6"},"總計",-1),V={class:"w-full bg-brown-lighter p-8"},U={class:"inline-flex flex-col w-full sm:w-5/12 mr-4 mb-4"},B=(0,s._)("label",{for:"name",class:"w-full text-base text-brown-dark font-bold mb-1"},"收件人姓名",-1),C={class:"inline-flex flex-col w-full sm:w-5/12 mr-4 mb-4"},D=(0,s._)("label",{for:"tel",class:"w-full text-base text-brown-dark font-bold mb-1"},"收件人電話",-1),E={class:"inline-flex flex-col w-full sm:w-5/12 mr-4 mb-4"},W=(0,s._)("label",{for:"address",class:"w-full text-base text-brown-dark font-bold mb-1"},"收件地址",-1),Y={class:"inline-flex flex-col w-full sm:w-5/12 mr-4 mb-4"},z=(0,s._)("label",{for:"email",class:"w-full text-base text-brown-dark font-bold mb-1"},"Email",-1),I={class:"inline-flex flex-col w-full mb-4"},L=(0,s._)("label",{for:"others",class:"w-full text-base text-brown-dark font-bold mb-1"},"其他備註",-1),S={class:"flex items-start sm:items-center justify-end mt-8 flex-col-reverse sm:flex-row"},R=(0,s._)("img",{class:"mr-4 w-10 sm:w-auto",src:a,alt:"修改購物內容"},null,-1),Q=(0,s.Uk)("修改購物內容 "),$=[R,Q],q=(0,s._)("button",{type:"submit",class:"transition-all text-base w-full sm:w-auto sm:text-lg py-2 px-12 sm:px-16 border border-[#707070] text-[#707070] cursor-pointer hover:text-white hover:bg-brown-light"},"確認送出",-1);function F(e,l,t,a,R,Q){const F=(0,s.up)("v-field"),J=(0,s.up)("error-message"),j=(0,s.up)("v-form"),T=(0,s.up)("VLoading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",o,[(0,s._)("section",d,[m,(0,s._)("div",i,[(0,s._)("table",n,[c,R.cartList.carts?((0,s.wg)(),(0,s.iD)("tbody",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(R.cartList.carts,(e=>((0,s.wg)(),(0,s.iD)("tr",{class:"w-full border-b text-brown-dark border-[#E8DFD8]",key:e.id},[(0,s._)("td",f,[(0,s._)("div",b,[(0,s._)("div",x,[(0,s._)("div",{class:"w-[100px] h-[100px] ml-2 mr-4 sm:mr-8 bg-cover",style:(0,r.j5)({backgroundImage:`url( ${e.product.imageUrl} )`})},null,4)]),(0,s._)("div",w,[(0,s._)("div",p,[(0,s._)("p",null,(0,r.zw)(e.product.title),1)]),(0,s._)("div",h,[(0,s._)("div",g,[(0,s._)("p",null,(0,r.zw)(e.qty)+" "+(0,r.zw)(e.product.unit),1),(0,s._)("div",_,"$"+(0,r.zw)(e.product.price)+" / "+(0,r.zw)(e.product.unit),1)])])]),(0,s._)("div",A,"$"+(0,r.zw)(e.product.price*e.qty),1)])])])))),128)),(0,s._)("tr",v,[(0,s._)("td",k,[y,(0,s.Uk)(" $ "+(0,r.zw)(R.cartList.total)+" 元",1)])])])):(0,s.kq)("",!0)]),(0,s.Wm)(j,{ref:"cartForm",onSubmit:Q.onSubmit,class:"w-full mx-auto text-left"},{default:(0,s.w5)((({errors:t})=>[(0,s._)("div",V,[(0,s._)("div",U,[B,(0,s.Wm)(F,{modelValue:R.form.user.name,"onUpdate:modelValue":l[0]||(l[0]=e=>R.form.user.name=e),id:"name",name:"name",type:"text",class:(0,r.C_)(["w-full p-2 border rounded-none",[t["name"]?"border-red-700":"border-brown-lighter"]]),placeholder:"請輸入收件人姓名",rules:"required"},null,8,["modelValue","class"]),(0,s.Wm)(J,{name:"name",class:"text-red-700 pl-2"})]),(0,s._)("div",C,[D,(0,s.Wm)(F,{modelValue:R.form.user.tel,"onUpdate:modelValue":l[1]||(l[1]=e=>R.form.user.tel=e),id:"tel",name:"tel",type:"tel",class:(0,r.C_)(["w-full p-2 border rounded-none",[t["tel"]?"border-red-700":"border-brown-lighter"]]),placeholder:"請輸入收件人電話",rules:"min:8|required"},null,8,["modelValue","class"]),(0,s.Wm)(J,{name:"tel",class:"text-red-700 pl-2"})]),(0,s._)("div",E,[W,(0,s.Wm)(F,{modelValue:R.form.user.address,"onUpdate:modelValue":l[2]||(l[2]=e=>R.form.user.address=e),id:"address",name:"address",type:"address",class:(0,r.C_)(["w-full p-2 border rounded-none",[t["address"]?"border-red-700":"border-brown-lighter"]]),placeholder:"請輸入地址",rules:"required"},null,8,["modelValue","class"]),(0,s.Wm)(J,{name:"address",class:"text-red-700 pl-2"})]),(0,s._)("div",Y,[z,(0,s.Wm)(F,{modelValue:R.form.user.email,"onUpdate:modelValue":l[3]||(l[3]=e=>R.form.user.email=e),id:"email",name:"email",type:"email",class:(0,r.C_)(["w-full p-2 border rounded-none",[t["email"]?"border-red-700":"border-brown-lighter"]]),placeholder:"請輸入 Email",rules:"email|required"},null,8,["modelValue","class"]),(0,s.Wm)(J,{name:"email",class:"text-red-700 pl-2"})]),(0,s._)("div",I,[L,(0,s.Wm)(F,{as:"textarea",modelValue:R.form.message,"onUpdate:modelValue":l[4]||(l[4]=e=>R.form.message=e),name:"others",id:"others",class:"w-full p-2 border border-brown-lighter rounded-none",cols:"30",rows:"5"},null,8,["modelValue"])])]),(0,s._)("div",S,[(0,s._)("button",{class:"flex items-center text-brown-dark font-bold py-2 mr-8 transition-all relative left-0 hover:-left-2 mt-4",onClick:l[5]||(l[5]=l=>e.$router.go(-1))},$),q])])),_:1},8,["onSubmit"])])])]),(0,s.Wm)(T,{active:R.isLoading},null,8,["active"])],64)}var J={data(){return{cartList:[],isLoading:!0,form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getcarts(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/nd5726-hexschool/cart").then((e=>{this.cartList=e.data.data,this.isLoading=!1}))},onSubmit(){this.isLoading=!0;const e=this.form;this.$http.post("https://vue3-course-api.hexschool.io/v2/api/nd5726-hexschool/order",{data:e}).then((e=>{alert(e.data.message),this.$refs.cartForm.resetForm(),this.getcarts(),this.$router.push("/cartFinish")}))}},mounted(){this.getcarts()}},j=t(89);const T=(0,j.Z)(J,[["render",F]]);var Z=T},2798:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAALCAYAAADVymv/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADUSURBVHgB7ZXBDYIwFIb/IlcTR3AE3OBxNWjiBgUHkA3UCXQCywZiwgDdwBVcwQGkvibGYATEc/sdmh56+vK+V+BP1kvapAkd4Sjh0IeSaBKMcUCNyIRYwVGCIY/knCKWdTUG90eIuCj1DY7yc8JsgrVBzte9qnQBx+kU9kpQcYJTTjBWDk9Vk1ZhMiEKBBQneDlV2tl91caXMJsgi9oJg5RllfB88BZmExyNceYEUYeYubzY+xD2aCbIiz2HpxORJbRlbZJ/wrSotIanF5EtyMAzmCdQPUOzVN63ZgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=794.36ba975f.js.map